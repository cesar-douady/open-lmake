<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat Feb 21 14:27:53 2026 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LENCODE</title>

</head>
<body>

<h1 align="center">LENCODE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">lencode -
associates a code to a provided value</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>lencode</b>
[<i>OPTION</i>]... [<i>FILE</i>]...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>lencode</b>
may be used to create (or retrieve if already present) an
association between a value (typically rather large) and a
short code. This association must be done before
<b>ldecode</b>(1) is called with the code (with same
<i>assocation_file</i> and <i>context</i>) to retrieve the
corresponding value.</p>

<p style="margin-left:9%; margin-top: 1em">The value must
be passed to <i>stdin</i>. The generated (or retrieved) code
corresponding to the value is output on <i>stdout</i>.</p>

<p style="margin-left:9%; margin-top: 1em">If generated,
the code is generated after a checksum computed on the
passed value in hexadecimal, with a length at least
<i>min_length</i> (default is 1), but may be longer in case
of conflict.</p>

<p style="margin-left:9%; margin-top: 1em"><i>table</i> may
be:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p>a key</p></td>
<td width="3%"></td>
<td width="82%">


<p>found in <b>lmake.config.codecs</b> in which case it is
a local source file or an external dir.</p></td></tr>
</table>

<p style="margin-left:9%;">a local source file</p>

<p style="margin-left:18%;">(symbolic links are followed)
recording the association table.</p>

<p style="margin-left:9%;">an external dir</p>

<p style="margin-left:18%;">recording the association
table.</p>

<p style="margin-left:9%; margin-top: 1em">In the former
case, when an external dir, it must lie within a source dir.
An external dir may contain a file <i>LMAKE/file_sync</i>
containing one of <b>none</b>, <b>dir</b> or <b>sync</b> for
choosing the method to ensure proper consistent operations.
In absence of such a file, file_sync is determined
automatically if possible from the filesystem type.</p>

<p style="margin-left:9%; margin-top: 1em">The dir must
have read/write/execute access to any user needing to use
the codec service, and if such accsses are at group level
(but not other), it must have its setgid bit set.</p>

<p style="margin-left:9%; margin-top: 1em">Associations are
usually created using <b>lencode</b> or <b>lmake.encode</b>
but not necessarily (they can be created by hand).</p>

<p style="margin-left:9%; margin-top: 1em">Usage and use
cases are more extensively documented the full
<i>open-lmake</i> documentation.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>-t</b>
<i>table</i>, <b>--table</b>=<i>table</i></p>

<p style="margin-left:18%;"><i>table</i> may be:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p>a key</p></td>
<td width="3%"></td>
<td width="82%">


<p>found in <b>lmake.config.codecs</b> in which case it is
a local source file or an external dir.</p></td></tr>
</table>

<p style="margin-left:9%;">a local source file</p>

<p style="margin-left:18%;">(symbolic links are followed)
recording the association table.</p>

<p style="margin-left:9%;">an external dir</p>

<p style="margin-left:18%;">recording the association
table.</p>

<p style="margin-left:9%; margin-top: 1em">In the former
case, when an external dir, it must lie within a source dir.
An external dir may contain a file <i>LMAKE/file_sync</i>
containing one of <b>none</b>, <b>dir</b> or <b>sync</b> for
choosing the method to ensure proper consistent operations.
In absence of such a file, file_sync is determined
automatically if possible from the filesystem type. <b><br>
-l</b> <i>min_len</i>, <b>--min-len</b>=<i>min_len</i></p>

<p style="margin-left:18%;">specifies the minimum code
length to use to encode value</p>

<p style="margin-left:9%; margin-top: 1em">The dir must
read/write/execute access to any user needing to use the
codec service, and if such accsses are at group level (but
not other), it must have its setgid bit set.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">touch
my_codec_file</p>

<p style="margin-left:9%; margin-top: 1em">git add
my_codec_file</p>

<p style="margin-left:9%; margin-top: 1em">lencode
my_codec_file my_context 3 &lt;&lt;EOF</p>

<p style="margin-left:9%; margin-top: 1em">first line</p>

<p style="margin-left:9%; margin-top: 1em">second line</p>

<p style="margin-left:9%; margin-top: 1em">EOF</p>

<p style="margin-left:9%; margin-top: 1em">==&gt;</p>

<p style="margin-left:9%; margin-top: 1em">3ab</p>

<p style="margin-left:9%; margin-top: 1em">ldecode
my_codec_file my_context 3ab</p>

<p style="margin-left:9%; margin-top: 1em">==&gt;</p>

<p style="margin-left:9%; margin-top: 1em">first line</p>

<p style="margin-left:9%; margin-top: 1em">second line</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>lencode</b>
exits with a status of zero if the code could be decoded.
Else it exits with a non-zero status:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>1</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>the code was not found with given file and context</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>2</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>internal error, should not occur</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>11</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>bad usage : command line options and arguments coul not
be parsed</p></td></tr>
</table>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em">(1)</p></td>
<td width="5%"></td>
<td width="82%">


<p style="margin-top: 1em">The same functionality is
provided with the <b>lmake.encode</b> python function.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p>(2)</p></td>
<td width="5%"></td>
<td width="82%">


<p><b>lencode</b> and <b>ldecode</b>(1) are useful tools
when the flow implies files whose names are impractical.
This is a way to transform long filenames into much shorter
ones by keeping an association table to retrieve long info
from short codes.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p>(3)</p></td>
<td width="5%"></td>
<td width="82%">


<p>Using this functionality may imply <b>git</b>(1)
conflicts on the association table (when a local source)
when several users independently create associations in
their repos. This is fully dealt with and the only thing
left to the user is to accept the resolution of the conflict
<b>without any action</b>.</p></td></tr>
</table>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>lautodep</b>(1),
<b>lcache_repair</b>(1), <b>lcache_server</b>(1),
<b>lcheck_deps</b>(1), <b>lcodec_repair</b>(1),
<b>lcollect</b>(1), <b>ldebug</b>(1), <b>ldecode</b>(1),
<b>ldepend</b>(1), <b>lforget</b>(1), <b>lmake</b>(1),
<b>lmark</b>(1), <b>lmake_repair</b>(1),
<b>lmake_server</b>(1), <b>lrun_cc</b>(1), <b>lshow</b>(1),
<b>ltarget</b>(1), <b>xxhsum</b>(1)</p>

<p style="margin-left:9%; margin-top: 1em">The python
module <b>lmake</b>.</p>

<p style="margin-left:9%; margin-top: 1em">The full
<i>open-lmake</i> documentation in
<i>&lt;open-lmake-installation-dir&gt;/docs/index.html</i>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Copyright &copy;
2023-2026, Doliam. This file is part of
<i>open-lmake</i>.</p>


<p style="margin-left:9%; margin-top: 1em"><i>open-lmake</i>
is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as
published by the Free Software Foundation, version 3 of the
License.</p>


<p style="margin-left:9%; margin-top: 1em"><i>open-lmake</i>
is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>

<p style="margin-left:9%; margin-top: 1em">You should have
received a copy of the GNU General Public License along with
this program. If not, see
<i>http://www.gnu.org/licenses/</i>.</p>
<hr>
</body>
</html>
