<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Sat May 31 14:29:18 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LAUTODEP</title>

</head>
<body>

<h1 align="center">LAUTODEP</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSYS">SYNOPSYS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">lautodep - mimic
<i>open-lmake</i> job prelude</p>

<h2>SYNOPSYS
<a name="SYNOPSYS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>lautodep</b>
[<i>OPTION</i>]... <i>cmd args</i>...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>lautodep</b>
is used by <b>ldebug</b> to launch jobs in an adequate
environment. It may also be useful when designing a flow to
try various options. It allows to see what information (deps
and targets) are recorded by code instrumentation
<i>open-lmake</i> injects in jobs to track activity without
actually run a job under its control.</p>

<p style="margin-left:9%; margin-top: 1em">The trace
generated by <b>lautodep</b> is halfly digested in the sens
that :</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>Only a summary of pertinent accesses are provided,
unlike <b>strace</b>(1) that can generate a line for each
access. There is a line for each accessed file, which may be
a read or nothing, possibly followed by a write or an
unlink.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>Accesses are tracked as for <i>open-lmake</i>, i.e.
files outside the repo are not tracked, except read accesses
in a source dir.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>When symbolic links are supported, they are resolved
according to the required support level and additional deps
may be generated when needed for <i>open-lmake</i> to work
properly.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>It is not fully digested as dep/target flags that are
provided in rules are not taken into account. A full
digestion to mimic <i>open-lmake</i> would require a whole
lot of information that would make the user interface
significantly heavier, defeating the usefulness of this
tool.</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">Accesses are
split into 2 categories :</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p style="margin-top: 1em">Targets : a prefix mentions the
type of target, unlink versus write, preceded by a read or
not.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>Deps : a kind of ascii art render parallel accesses.</p></td></tr>
</table>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>-a</b>,
<b>--auto-mkdir</b></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>auto_mkdir</b>=<i>True</i>.</p>

<p style="margin-left:9%;"><b>-c</b> <i>abs_dir</i>,
<b>--chroot-dir</b>=<i>abs_dir</i></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>chroot_dir</b>=<i>abs_dir</i>.</p>

<p style="margin-left:9%;"><b>-d</b> <i>dir</i>,
<b>--cwd</b>=<i>dir</i></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>cwd</b>=<i>dir</i>.</p>

<p style="margin-left:9%;"><b>-D</b>,
<b>--readdir-ok</b></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>readdir_ok</b>=<i>True</i>.</p>

<p style="margin-left:9%;"><b>-e</b> <i>list</i>,
<b>--env</b>=<i>list</i></p>

<p style="margin-left:18%;"><i>list</i> must be provided as
a tuple or list of str using the python syntax (which most
probably requires shell quoting). Listed variables are kept
from the environment.</p>

<p style="margin-left:9%;"><b>-k</b>, <b>--keep-tmp</b></p>

<p style="margin-left:18%;">Dont erase tmp dir after
execution.</p>

<p style="margin-left:9%;"><b>-l</b> <i>key</i>,
<b>--link-support</b>=<i>key</i></p>

<p style="margin-left:18%;">Mimic setting the config
attribute <b>link_support</b>=<i>key</i>.</p>

<p style="margin-left:9%;"><b>-m</b> <i>key</i>,
<b>--autodep-method</b>=<i>key</i></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>autodep</b>=<i>key</i>.</p>

<p style="margin-left:9%;"><b>-o</b> <i>file</i>,
<b>--out</b>=<i>file</i></p>

<p style="margin-left:18%;">Write access info (deps and
targets) to <i>file</i>.</p>

<p style="margin-left:9%;"><b>-s</b> <i>list</i>,
<b>--source-dirs</b>=<i>list</i></p>

<p style="margin-left:18%;"><i>list</i> must be provided as
a tuple or list of str using the python syntax (which most
probably requires shell quoting). Mimic setting the rule
attribute <b>source_dirs</b>=<i>list</i>.</p>

<p style="margin-left:9%;"><b>-t</b> <i>abs_dir</i>,
<b>--tmp-dir</b>=<i>abs_dir</i></p>

<p style="margin-left:18%;">This option is compulsery. Set
the physical tmp dir. The tmp dir is cleaned (i.e. all files
inside it are <b>rm</b>&rsquo;ed) before execution. It is
also cleaned after execution unless the <b>--keep-tmp</b> or
<b>-k</b> is given.</p>

<p style="margin-left:9%;"><b>-L</b> <i>abs_dir</i>,
<b>--lmake-view</b>=<i>abs_dir</i></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>lmake_view</b>=<i>abs_dir</i>.</p>

<p style="margin-left:9%;"><b>-R</b> <i>abs_dir</i>,
<b>--repo-view</b>=<i>abs_dir</i></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>repo_view</b>=<i>abs_dir</i>.</p>

<p style="margin-left:9%;"><b>-T</b> <i>abs_dir</i>,
<b>--tmp-view</b>=<i>abs_dir</i></p>

<p style="margin-left:18%;">Mimic setting the rule
attribute <b>tmp_view</b>=<i>abs_dir</i>.</p>

<p style="margin-left:9%;"><b>-V</b> <i>dict</i>,
<b>--views</b>=<i>dict</i></p>

<p style="margin-left:18%;"><i>dict</i> must be provided as
a dict mapping str to view descriptions using the python
syntax (which most probably requires shell quoting). Mimic
setting the rule attribute <b>views</b>=<i>dict</i>.</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The files
<i>Lmakefile.py</i> or <i>Lmakefile/__init__.py</i> are
searched in the current dir and in parent dirs. If a single
one is found, this determines the root of the repo. If
several are found, the existence of an <i>LMAKE</i> dir is
checked. If a single one is found, this determines the root
of the repo. In other cases, <b>lautodep</b> will not
start.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>lcheck_deps</b>(1),
<b>ldebug</b>(1), <b>ldecode</b>(1), <b>ldepend</b>(1),
<b>lencode</b>(1), <b>lforget</b>(1), <b>lmake</b>(1),
<b>lmark</b>(1), <b>lrepair</b>(1), <b>lrun_cc</b>(1),
<b>lshow</b>(1), <b>ltarget</b>(1), <b>xxhsum</b>(1)</p>

<p style="margin-left:9%; margin-top: 1em">The python
module <b>lmake</b>.</p>

<p style="margin-left:9%; margin-top: 1em">The full
<i>open-lmake</i> documentation in
<i>&lt;open-lmake-installation-dir&gt;/docs/index.html</i>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Copyright &copy;
2023-2025, Doliam. This file is part of
<i>open-lmake</i>.</p>


<p style="margin-left:9%; margin-top: 1em"><i>open-lmake</i>
is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as
published by the Free Software Foundation, version 3 of the
License.</p>


<p style="margin-left:9%; margin-top: 1em"><i>open-lmake</i>
is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>

<p style="margin-left:9%; margin-top: 1em">You should have
received a copy of the GNU General Public License along with
this program. If not, see
<i>http://www.gnu.org/licenses/</i>.</p>
<hr>
</body>
</html>
