<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Thu Oct  2 20:11:13 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>LTARGET</title>

</head>
<body>

<h1 align="center">LTARGET</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">ltarget - report
targets from a <i>open-lmake</i> job</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>ltarget</b>
[<i>OPTION</i>]... [<i>FILE</i>]...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>ltarget</b>
may be used to pass flags to <i>open-lmake</i>. Unless
specified otherwise, passed targets are allowed to be
written to.</p>

<p style="margin-left:9%; margin-top: 1em">Note that :</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>Flags can be passed in (cf. OPTIONS below). Flags
accumulate and will apply even if the file is independently
accessed.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="8%"></td>
<td width="82%">


<p>Targets are reported even if the autodep method (the
<i>autodep</i> rule attribute) is <i>none</i>. This is
<b>the</b> way (or a call to <b>lmake.target</b>) of
reporting targets in such a case (usually with
<i>--write</i>).</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">Symlobic links
are not followed when files are interpreted. Following
symbolic links would inevitably lead to files being read (to
check if they are symbolic links) before being a target,
which would be an error.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>-L</b>,
<b>--follow-symlinks</b></p>

<p style="margin-left:18%;">Follow the last level symbolic
link, default is not to follow.</p>

<p style="margin-left:9%;"><b>-W</b>, <b>--write</b></p>

<p style="margin-left:18%;">Report an actual write, not
only target flags. Default is to only alter flags.</p>

<p style="margin-left:9%;"><b>-z</b>, <b>--dir</b></p>

<p style="margin-left:18%;">Specify a directory for use
with <i>--list</i>.</p>

<p style="margin-left:9%;"><b>-l</b>, <b>--list</b></p>

<p style="margin-left:18%;">Print list of currently
generated targets to stdout. Only targets lying in the dir
mentioned with <i>--dir</i> are listed (if this option is
used), and only if they match the regexpr argument (if
<i>--regexpr</i>) as reported. If the cwd lies outside the
repo, listed files are absolute, else they are relative
unless they are within an absolute source dir. The order of
the listed targets is the chronological order. Cf note
(3).</p>

<p style="margin-left:9%;"><b>-X</b>, <b>--regexpr</b></p>

<p style="margin-left:18%;">Pass flags to all targets
matching regexprs passed as argument. The <b>ignore</b> flag
only applies to targets following this command.</p>

<p style="margin-left:9%;"><b>-x</b>,
<b>--no-exclude-star</b></p>

<p style="margin-left:18%;">Accept that flags are further
processed according to regexpr-based requests, e.g.
<b>ltarget --regexpr</b>, default is to exclude such
processing.</p>

<p style="margin-left:9%;"><b>-E</b>,
<b>--essential</b></p>

<p style="margin-left:18%;">Show when generating user
oriented graphs.</p>

<p style="margin-left:9%;"><b>-i</b>,
<b>--incremental</b></p>

<p style="margin-left:18%;">Targets are not unlinked before
job execution and read accesses to them are ignored
(including <b>readdir</b>(3)).</p>

<p style="margin-left:9%;"><b>-w</b>,
<b>--no-warning</b></p>

<p style="margin-left:18%;">No warning is emitted if
targets are either uniquified or unlinked while generated by
another job.</p>

<p style="margin-left:9%;"><b>-I</b>, <b>--ignore</b></p>

<p style="margin-left:18%;">From now on, ignore all reads
and writes to targets (including <b>readdir</b>(3)).</p>

<p style="margin-left:9%;"><b>-a</b>, <b>--no-allow</b></p>

<p style="margin-left:18%;">Unless this option is passed,
<b>ltarget</b> makes its arguments valid targets.</p>

<p style="margin-left:9%;"><b>-s</b>,
<b>--source-ok</b></p>

<p style="margin-left:18%;">Unless this option is passed,
writing to a source is an error. In that case, being
simultaneously a dep and a target is ok.</p>

<p style="margin-left:9%; margin-top: 1em">In case
mentioned targets turn out to be deps, the dep flags are
also available: <b><br>
-c</b>, <b>--critical</b></p>

<p style="margin-left:18%;">Create critical deps (cf. note
(4)).</p>

<p style="margin-left:9%;"><b>-D</b>,
<b>--readdir-ok</b></p>

<p style="margin-left:18%;">Allow <b>readdir</b>(3) on
passed deps even if not <b>ignore</b>d nor
<b>incremental</b>. Implies flag <b>--no-required</b>.</p>

<p style="margin-left:9%;"><b>-e</b>,
<b>--ignore-error</b></p>

<p style="margin-left:18%;">Ignore the error status of the
passed deps.</p>

<p style="margin-left:9%;"><b>-r</b>,
<b>--no-required</b></p>

<p style="margin-left:18%;">Accept that deps be not
buildable, as for a normal read access (in such a case, the
read may fail, but <i>open-lmake</i> is ok).</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>ltarget</b>
exits with a status of zero if target flags were correctly
set. Else it exits with a non-zero status:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>2</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>internal error, should not occur</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>11</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>bad usage : command line options and arguments coul not
be parsed</p></td></tr>
</table>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">ltarget --ignore
a_file</p>

<p style="margin-left:9%; margin-top: 1em">echo
&gt;a_file</p>

<p style="margin-left:9%; margin-top: 1em">ltarget
--readdir_ok a_dir</p>

<p style="margin-left:9%; margin-top: 1em">rm -rf a_dir</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em">(1)</p></td>
<td width="5%"></td>
<td width="82%">


<p style="margin-top: 1em">The same functionality is
provided with the <b>lmake.target</b> python function.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p>(2)</p></td>
<td width="5%"></td>
<td width="82%">


<p>Flags can be associated to targets on a regexpr
(matching on target name) basis by using the
<b>side_targets</b> rule attribute.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p>(3)</p></td>
<td width="5%"></td>
<td width="82%">


<p><i>--list</i> is provided as a secure way to replace
<b>readdir</b>(3). Using this feature only relies on job
execution, not spurious files that can exist without the
possibility of depending on such list.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p>(4)</p></td>
<td width="5%"></td>
<td width="82%">


<p>If a series of dep is directly derived from the content
of a file, it may be wise to declare it as <b>critical</b>.
When a critical dep is modified, <i>open-lmake</i> forgets
about deps reported after it.</p></td></tr>
</table>

<p style="margin-left:18%; margin-top: 1em">Usually, when a
file is modified, this has no influence on the list of files
that are accessed after it, and <i>open-lmake</i>
anticipates this by building these deps speculatively. But
in some situations, it is almost certain that there will be
an influence and it is preferable not to anticipate. this is
what critical deps are made for: in case of modifications,
following deps are not built speculatively.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>lautodep</b>(1),
<b>lcheck_deps</b>(1), <b>lcollect</b>(1), <b>ldebug</b>(1),
<b>ldecode</b>(1), <b>ldepend</b>(1),
<b>ldircache_repair</b>(1), <b>lencode</b>(1),
<b>lforget</b>(1), <b>lmake</b>(1), <b>lmark</b>(1),
<b>lrepair</b>(1), <b>lrun_cc</b>(1), <b>lshow</b>(1),
<b>xxhsum</b>(1)</p>

<p style="margin-left:9%; margin-top: 1em">The python
module <b>lmake</b>.</p>

<p style="margin-left:9%; margin-top: 1em">The full
<i>open-lmake</i> documentation in
<i>&lt;open-lmake-installation-dir&gt;/docs/index.html</i>.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Copyright &copy;
2023-2025, Doliam. This file is part of
<i>open-lmake</i>.</p>


<p style="margin-left:9%; margin-top: 1em"><i>open-lmake</i>
is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as
published by the Free Software Foundation, version 3 of the
License.</p>


<p style="margin-left:9%; margin-top: 1em"><i>open-lmake</i>
is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>

<p style="margin-left:9%; margin-top: 1em">You should have
received a copy of the GNU General Public License along with
this program. If not, see
<i>http://www.gnu.org/licenses/</i>.</p>
<hr>
</body>
</html>
